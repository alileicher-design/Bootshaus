<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S' Bootshaus Neckarsulm | Heimat am Neckar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Montserrat', sans-serif; background-color: #fdfcf9; }
        h1, h2, h3, h4, .font-serif { font-family: 'Playfair Display', serif; }
        .text-gold { color: #D4AF37; }
        .bg-gold { background-color: #D4AF37; }
        .border-gold { border-color: #D4AF37; }
        .hidden-content { display: none; }
        .allergen { font-size: 0.65rem; color: #999; font-weight: normal; margin-left: 4px; }
        
        @media print {
            nav, .no-print, footer, header, .toggle-btn { display: none !important; }
            .hidden-content { display: block !important; opacity: 1 !important; }
            body { background: white !important; }
            .print-container { width: 100% !important; border: none !important; box-shadow: none !important; }
            .print-hidden { display: none !important; }
        }
    </style>
</head>
<body class="text-gray-900">

    <nav class="no-print fixed w-full z-50 bg-black/95 text-white px-6 py-4 flex justify-between items-center border-b border-gold/30 shadow-lg">
        <div class="text-xl font-serif font-bold text-gold italic">S' Bootshaus</div>
        <div class="flex space-x-3">
            <button onclick="printSection('wochenkarte')" class="text-[9px] border border-gold text-gold px-3 py-1 font-bold tracking-widest hover:bg-gold hover:text-white transition">üñ®Ô∏è WOCHE DRUCKEN</button>
            <button onclick="printSection('speisekarte')" class="text-[9px] bg-gold text-white px-3 py-1 font-bold tracking-widest hover:bg-yellow-600 transition">üñ®Ô∏è KARTE DRUCKEN</button>
        </div>
    </nav>

    <header class="no-print relative h-[50vh] flex items-center justify-center overflow-hidden">
        <img src="https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?q=80&w=2000&auto=format" class="absolute w-full h-full object-cover opacity-80" alt="Hero">
        <div class="absolute inset-0 bg-black/40"></div>
        <div class="relative z-20 text-center text-white px-4">
            <h1 class="text-5xl md:text-7xl italic font-serif mb-4">Heimat & Genuss</h1>
            <p class="text-gold tracking-[0.5em] uppercase text-xs font-semibold">Direkt am Neckarufer</p>
        </div>
    </header>

    <section class="no-print py-20 px-6 text-center max-w-4xl mx-auto">
        <span class="text-gold font-serif italic text-xl block mb-2">Sch√∂n, dass Sie da sind.</span>
        <h2 class="text-3xl md:text-4xl italic font-serif mb-8">Wo der Neckar auf Heimat trifft.</h2>
        <div class="space-y-6 text-gray-600 leading-relaxed italic text-lg">
            <p>
                "Drau√üen glitzert die Sonne auf dem Neckar, w√§hrend drinnen der Duft von frisch ger√∂steten Zwiebeln 
                und hausgemachten Sp√§tzle durch den Raum zieht. Das vertraute Klappern in der K√ºche 
                ist der Herzschlag unseres Hauses."
            </p>
            <p>
                Lassen Sie den Alltag am Ufer zur√ºck und genie√üen Sie ehrliche, regionale K√ºche in entspannter Atmosph√§re.
            </p>
        </div>
    </section>

    <main class="max-w-5xl mx-auto px-6 pb-24 space-y-12">
        
        <section id="wochenkarte" class="bg-white shadow-xl rounded-sm border-t-4 border-gold print-container">
            <div class="p-10 text-center no-print">
                <h3 class="text-3xl font-serif italic mb-4">Unser Mittagstisch</h3>
                <button onclick="fetchData('woche')" id="btn-woche" class="bg-black text-white px-10 py-3 text-xs font-bold uppercase tracking-widest hover:bg-gold transition">Wochenkarte √∂ffnen</button>
            </div>
            <div id="woche-content" class="hidden-content p-10 border-t border-gray-50">
                <div class="text-center mb-8">
                    <h2 class="hidden print:block text-2xl font-serif font-bold uppercase mb-2">Wochenkarte Mittagstisch</h2>
                    <p id="woche-datum" class="text-gold font-bold tracking-widest uppercase text-sm"></p>
                </div>
                <div id="woche-grid" class="grid md:grid-cols-3 gap-6 mb-12"></div>
                <h4 class="font-serif text-2xl italic mb-6 border-b pb-2">T√§glich im Angebot</h4>
                <div id="daily-list" class="grid md:grid-cols-2 gap-x-12 gap-y-2 text-[13px]"></div>
            </div>
        </section>

        <section id="speisekarte" class="bg-white shadow-xl rounded-sm border-t-4 border-gray-800 print-container">
            <div class="p-10 text-center no-print">
                <h3 class="text-3xl font-serif italic mb-4">Die Speiskart</h3>
                <button onclick="fetchData('karte')" id="btn-karte" class="border-2 border-black text-black px-10 py-3 text-xs font-bold uppercase tracking-widest hover:bg-black hover:text-white transition">Speisekarte √∂ffnen</button>
            </div>
            <div id="karte-content" class="hidden-content p-10 border-t">
                <h2 class="hidden print:block text-center text-3xl font-serif mb-10">Unsere Speiskart</h2>
                <div id="full-menu-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-10"></div>
            </div>
        </section>

    </main>

    <footer class="no-print py-12 bg-black text-center text-white/30 text-[10px] tracking-[0.4em] uppercase">
        &copy; 2025 S' Bootshaus Neckarsulm
    </footer>

    <script>
        async function fetchData(type) {
            const content = document.getElementById(type + '-content');
            const btn = document.getElementById('btn-' + (type === 'woche' ? 'woche' : 'karte'));

            if (content.style.display === 'block') {
                content.style.display = 'none';
                btn.innerText = type === 'woche' ? "Wochenkarte √∂ffnen" : "Speisekarte √∂ffnen";
                return;
            }

            try {
                const res = await fetch(type + '.json');
                const d = await res.json();
                
                if (type === 'woche') {
                    document.getElementById('woche-datum').innerText = d.datum;
                    document.getElementById('woche-grid').innerHTML = d.specials.map(s => `
                        <div class="bg-white p-5 border-l-4 border-gold shadow-sm">
                            <span class="text-[9px] font-bold text-gold uppercase">${s.tag}</span>
                            <div class="flex justify-between font-bold text-sm"><span>${s.name}</span><span>${s.preis}</span></div>
                            <p class="text-[11px] italic text-gray-500">${s.beilage}</p>
                        </div>
                    `).join('');
                    document.getElementById('daily-list').innerHTML = d.taeglich.map(i => `
                        <div class="flex justify-between border-b py-2 italic"><span>${i.n} <small class="allergen">${i.a || ''}</small></span><b>${i.p}</b></div>
                    `).join('');
                } else {
                    document.getElementById('full-menu-grid').innerHTML = d.kategorien.map(k => `
                        <div>
                            <h4 class="text-gold font-serif text-xl border-b border-gold/20 pb-1 mb-6 italic">${k.name}</h4>
                            ${k.gerichte.map(g => `<div class="flex justify-between mb-4 font-bold text-[11px] uppercase tracking-wider"><span>${g.n} <small class="allergen">${g.a || ''}</small></span><span>${g.p}</span></div>`).join('')}
                        </div>
                    `).join('');
                }
                content.style.display = 'block';
                btn.innerText = "Schlie√üen";
            } catch (e) { alert("Fehler beim Laden der " + type + ".json"); }
        }

        async function printSection(id) {
            const type = id === 'wochenkarte' ? 'woche' : 'karte';
            // Erst laden, dann drucken
            await fetchData(type); 
            const sections = ['wochenkarte', 'speisekarte'];
            sections.forEach(s => {
                const el = document.getElementById(s);
                if (s === id) { el.classList.remove('print-hidden'); } 
                else { el.classList.add('print-hidden'); }
            });
            setTimeout(() => { window.print(); }, 500);
        }
    </script>
</body>
</html>
